# 健身教练技能设计

## 概述
**技能名称**: `fitness-coach`
**目的**: 提供个性化健身指导、运动计划和训练建议，基于用户的健康数据和活动记录。

## 描述
分析用户的体力活动、健康目标和体能状况，提供个性化的运动计划、训练指导和健身建议。在需要运动指导、健身计划或询问"如何开始锻炼？"时使用。

## 数据集成

### 数据源
- **运动记录** (如果追踪): 日常活动数据
- **个人档案** (`data/profile.json`): 年龄、体重、健康状况
- **症状记录** (`data/symptoms/`): 运动相关症状
- **健康目标**: 用户的健身目标
- **医疗限制**: 手术、疾病、药物副作用

### 相关命令
- `/symptom`: 记录运动相关症状
- `/profile`: 健康档案

## 核心功能

### 1. 健身评估
- **当前活动水平**: 日常活动量分析
- **体能评估**: 基于年龄和健康状况的评估
- **限制因素**: 医疗限制、身体限制
- **目标可行性**: 评估目标的现实性
- **基线建立**: 建立可测量的基线

### 2. 个性化运动计划
- **基于目标定制**: 减重、增肌、耐力、灵活性
- **适合当前水平**: 初级、中级、高级
- **考虑限制**: 伤病、健康状况
- **渐进式超负荷**: 逐渐增加难度
- **多样化**: 有氧、力量、柔韧性训练

### 3. 训练指导
- **动作指导**: 详细动作说明和安全要点
- **训练计划**: 周期化训练计划
- **强度管理**: 心率区间、感知强度
- **恢复指导**: 休息日、主动恢复
- **预防伤病**: 热身、拉伸、安全技巧

### 4. 进度追踪
- **表现追踪**: 重量、次数、时间、距离
- **身体成分**: 体重、BMI、体脂（如果有数据）
- **功能改善**: 力量、耐力、灵活性
- **一致性追踪**: 运动频率
- **里程碑庆祝**: 达成目标的庆祝

## 输出格式

### 健身评估报告
```
💪 健身评估报告
生成时间: 2025-12-31

📊 当前活动水平评估

日常活动:
├─ 步数: 平均 5,200 步/天
├─ 活动天数: 3-4 天/周
├─ 运动类型: 散步为主
└─ 持续时间: 平均 20-30 分钟/次

评估: 初级活动水平
✅ 有活动基础，可开始结构化训练

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 健身目标设定

您的目标: 减重 + 改善心血管健康

目标拆解:
主要目标: 减重 5 kg
├─ 时间线: 16-20 周（健康减重速度）
├─ 每周目标: 0.25-0.5 kg
├─ 方法: 饮食 + 运动结合
└─ 可行性: ✅ 可行

次要目标: 改善心血管健康
├─ 指标: 血压、静息心率、耐力
├─ 时间线: 8-12 周可见改善
└─ 可行性: ✅ 可行

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🏋️ 个性化运动计划

第 1-4 周: 适应期

目标: 建立运动习惯，适应训练

每周计划:
周一: 有氧运动（30 分钟）
├─ 快走或慢跑
├─ 强度: 中等（能够交谈但略微喘气）
├─ 心率区间: 110-130 bpm
└─ 目标: 完成，不追求速度

周二: 力量训练（20 分钟）
├─ 徒手深蹲: 2 组 × 10 次
├─ 俯卧撑（可跪姿）: 2 组 × 8 次
├─ 平板支撑: 2 组 × 20 秒
├─ 臀桥: 2 组 × 12 次
└─ 休息: 组间 60 秒

周三: 主动恢复（20-30 分钟）
├─ 轻松散步
├─ 瑜伽或伸展（10 分钟）
└─ 目标: 促进恢复

周四: 有氧运动（30 分钟）
├─ 快走或慢跑
├─ 可与周一相同或不同
└─ 强度: 中等

周五: 力量训练（20 分钟）
├─ 重复周二训练
└─ 专注于动作质量

周六: 长距离有氧（40 分钟）
├─ 长距离快走
├─ 休闲骑自行车
└─ 游泳（选择其一）

周日: 完全休息
└─ 让身体恢复

第 1-4 周重点:
✓ 建立习惯
✓ 掌握基础动作
✓ 避免过度训练
✓ 关注一致性而非强度

成功指标:
✓ 完成 4-5 天训练/周
✓ 无疼痛（正常肌肉酸痛除外）
✓ 精神状态良好
✓ 坚持计划

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

第 5-8 周: 进步期

目标: 逐渐增加强度和多样性

有氧改进:
├─ 时长: 30 → 40 分钟
├─ 强度: 加入间歇训练
│  ├─ 2 分钟轻松 + 1 分钟快
│  └─ 重复 5-6 次
└─ 类型: 加入多样性（骑行、游泳）

力量改进:
├─ 增加组数: 2 → 3 组
├─ 增加次数: +2-3 次
├─ 新动作:
│  ├─ 弓步: 2 组 × 8 次/腿
│  ├─ 划船（哑铃或弹力带）: 2 组 × 10 次
│  ├─ 肩推: 2 组 × 8 次
│  └─ 侧平板: 2 组 × 15 秒/侧
└─ 可添加轻哑铃（2-3 kg）

预期改善:
✓ 肌肉感觉更紧致
✓ 耐力明显提升
✓ 体重开始下降
✓ 睡眠改善

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

第 9-12 周: 巩固期

目标: 挑战自我，看到明显效果

有氧挑战:
├─ 时长: 40-45 分钟
├─ 间歇: 更高强度间歇
│  ├─ 3 分钟中等 + 2 分钟高强度
│  └─ 重复 4-5 次
└─ 跑步目标: 可慢跑 20 分钟不停

力量进阶:
├─ 所有动作: 3-4 组
├─ 次数: 10-15 次
├─ 重量: 逐渐增加（如使用）
└─ 复合动作: 组合动作

身体组成改善:
✓ 体重下降 2-3 kg
✓ 腰围减少 2-3 cm
✓ 肌肉更紧致
✓ 整体更有力量

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 详细训练指南

力量训练指南:

深蹲:
├─ 起点: 双脚与肩同宽
├─ 动作: 臀部向后坐，如坐椅子
├─ 下蹲: 至少大腿平行地面
├─ 膝盖: 保持与脚尖方向一致
├─ 呼吸: 下吸上呼
└─ 安全: 膝盖不要内扣

俯卧撑:
├─ 位置: 手在肩下方
├─ 身体: 保持直线（头到脚）
├─ 下放: 胸部接近地面
├─ 推起: 保持身体稳定
└─ 变式: 跪姿适合初学者

平板支撑:
├─ 位置: 前臂在肩下
├─ 身体: 完全笔直
├─ 核心: 收紧腹部
├─ 臀部: 不要抬或降
└─ 目标: 逐渐增加时间

有氧训练指南:

心率区间:
├─ 区间 1（轻松）: 50-60% 最大心率
│  └─ 适用于: 热身、恢复
├─ 区间 2（中等）: 60-70% 最大心率
│  └─ 适用于: 基础有氧
├─ 区间 3（困难）: 70-80% 最大心率
│  └─ 适用于: 间歇训练
└─ 最大心率估算: 220 - 年龄

呼吸技巧:
├─ 鼻吸口呼（轻松强度）
├─ 节奏呼吸（运动时）
└─ 避免憋气

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔥 热身与冷身

热身（每次训练前，5-10 分钟）:

动态伸展:
├─ 手臂绕环: 2 × 10 次
├─ 腿部摆动: 2 × 10 次/腿
├─ 身体扭转: 2 × 10 次
├─ 高抬腿: 30 秒
└─ 原地慢跑: 2 分钟

目的:
✓ 体温升高
✓ 关节润滑
✓ 心率逐渐上升
✓ 肌肉准备

冷身（每次训练后，5-10 分钟）:

静态伸展:
├─ 大腿前侧伸展: 30 秒/腿
├─ 大腿后侧伸展: 30 秒/腿
├─ 臀部伸展: 30 秒/腿
├─ 肩膀伸展: 30 秒/侧
├─ 胸部伸展: 30 秒
└─ 婴儿式: 1 分钟

目的:
✓ 心率逐渐降低
✓ 排出代谢废物
✓ 减少肌肉紧张
✓ 促进恢复

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ 安全指南

危险信号 - 立即停止:
□ 胸痛或胸闷
□ 严重呼吸困难
□ 头晕或眩晕
□ 恶心（不寻常）
□ 关节疼痛（非肌肉酸痛）

常见错误:
✗ 热身不足
✗ 动作不标准
✗ 进步太快
✗ 忽视疼痛
✗ 不休息

正确做法:
✓ 充分热身冷身
✓ 动作质量 > 数量
✓ 渐进式进步
✓ 倾听身体信号
✓ 充分休息

特殊考虑:

高血压（赖诺普利）:
├─ 避免憋气（举起时呼气）
├─ 避免头低于心脏
├─ 监控运动时心率
└─ 如不适立即停止

年龄 45 岁:
├─ 从低强度开始
├─ 逐渐增加
├─ 充分休息
└─ 定期体检

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📈 进度追踪

每周检查:
□ 训练天数: 目标 4-5 天
□ 运动时长: 目标 150-200 分钟/周
□ 强度感知: 1-10 分（RPE）
□ 身体感受: 疲劳、疼痛、精力
□ 体重变化

每月评估:
□ 体重: 目标 -0.25-0.5 kg/月
□ 围度: 腰围、臀围
□ 力量: 重量、次数增加
□ 耐力: 同样强度感觉更轻松
□ 睡眠: 质量改善
□ 精力: 日常精力水平

里程碑:
4 周: ✓ 建立习惯，感觉更强
8 周: ✓ 体重下降 1-2 kg
12 周: ✓ 体重下降 2-3 kg，明显更健康

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 动力与一致性

建立习惯:
□ 固定训练时间
□ 准备运动装备
□ 记录训练
□ 找问责伙伴
□ 奖励自己

克服障碍:
没时间?
→ 10-15 分钟总比没有好
→ 分散训练: 早中晚各10分钟

太累?
→ 从轻量开始
→ 通常运动后精力更好

没动力?
→ 回顾目标
→ 看进步记录
→ 找训练伙伴
→ 尝试新活动

天气不好?
→ 室内替代训练
→ 在线健身视频

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 下周行动清单

本周目标:
□ 完成 5 天训练
□ 尝试 1 个新力量练习
□ 记录每次训练
□ 测量周末体重

训练准备:
☑️ 安排训练时间
☑️ 准备运动装备
☑️ 充足睡眠
☑️ 合理饮食
☑️ 水分充足

开始训练前:
□ 医生许可（如有任何担心）
□ 合适的运动鞋
□ 舒适的运动服
□ 水瓶
□ 毛巾

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💬 教练寄语

开始健身旅程是最重要的第一步。前几周专注于建立习惯，
而不是追求强度。一致性胜过完美。

记住: 任何运动都比不运动好。即使是忙碌的一天，
10-15 分钟的快走也有益。

倾听您的身体，如有不适应停止并咨询医生。

您可以做到！💪

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
由个人健康信息系统生成
健身教练
祝您训练愉快！
```

## 技术实现

### 健身计划生成
```python
def create_fitness_plan(profile, goals, restrictions):
    """创建个性化健身计划"""

    # 评估当前水平
    current_level = assess_fitness_level(profile)

    # 基于目标定制
    plan_type = determine_plan_type(goals)

    # 考虑限制
    exercises = filter_exercises(plan_type, restrictions)

    # 周期化计划
    weekly_plan = create_weekly_schedule(
        level=current_level,
        exercises=exercises,
        goals=goals
    )

    # 进阶计划
    progression = create_progression(
        start_level=current_level,
        duration_weeks=12
    )

    return {
        "weekly_plan": weekly_plan,
        "progression": progression,
        "safety_guidelines": generate_safety_notes(restrictions),
        "tracking_metrics": define_metrics(goals)
    }
```

## 用户交互示例

### 示例 1: 开始健身
**用户**: "我想开始锻炼，但我没有经验"
**技能**: 评估当前水平，创建初学者健身计划

### 示例 2: 进阶计划
**用户**: "我已经锻炼了几个月，想要更有挑战性的计划"
**技能**: 评估当前能力，创建进阶训练计划

### 示例 3: 特定目标
**用户**: "我想为5公里跑做准备"
**技能**: 创建跑步训练计划，逐步建立耐力

## 安全与免责
```
⚠️ 健身建议免责声明
此健身计划基于您提供的健康信息。
开始任何运动计划前，请咨询医生：

如有以下情况:
- 心脏疾病史
- 胸痛运动时
- 平衡头晕
- 关节问题
- 服用药物

如运动时出现以下症状，立即停止:
胸痛、严重呼吸困难、头晕、恶心
```

## 测试清单
- [ ] 测试初学者计划生成
- [ ] 测试进阶计划调整
- [ ] 验证安全指南完整性
- [ ] 测试不同目标（减重、增肌等）
- [ ] 验证动作指导清晰
- [ ] 测试进度追踪逻辑

## 相关技能
- `health-trend-analyzer`: 健身趋势分析
- `wellness-coach`: 整体健康指导
- `symptom-pattern-analyzer`: 运动相关症状分析
