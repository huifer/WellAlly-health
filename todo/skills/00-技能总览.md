# 个人健康信息系统 - 技能设计总览

## 项目背景
本文档总结了为 my-his（个人健康信息系统）设计的 **14 个**智能技能。这些技能与现有的健康数据深度集成，提供智能、自动化的健康管理功能。

## 技能分类

```
                    ┌─────────────────────┐
                    │   所有健康数据      │
                    │  (档案、药物、       │
                    │   症状、饮食、       │
                    │   化验等)          │
                    └──────────┬──────────┘
                               │
       ┌───────────────────────┼───────────────────────┐
       │                       │                       │
       ▼                       ▼                       ▼
┌──────────────┐      ┌──────────────┐      ┌──────────────┐
│ 核心分析技能  │      │ 综合洞察技能  │      │ 专科生活技能  │
│ ├健康趋势    │      │ ├健康洞察    │      │ ├营养顾问    │
│ ├用药顾问    │      │ └健康教练    │      │ ├健身教练    │
│ ├症状模式    │      │              │      │ ├睡眠专家    │
│ └就诊准备    │      │              │      │ └心理健康    │
└──────────────┘      └──────────────┘      └──────┬───────┘
                                              │
       ┌──────────────────────────────────────┘
       │
       ▼
┌──────────────┐
│ 专科医疗技能  │
│ ├慢性病管理  │
│ ├女性健康    │
│ ├康复指导    │
│ └预防保健    │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│   急诊卡片   │
│   (已存在)   │
└──────────────┘
```

#### 1. 健康趋势分析器 (`health-trend-analyzer`)
**用途**: 分析所有健康数据源随时间的变化趋势

**核心功能**:
- 多维度趋势分析（体重、症状、药物、化验结果）
- 相关性分析（药物-症状、生活方式-症状、治疗效果）
- 变化检测（显著变化、恶化、改善）
- 预测性洞察（风险评估、预防建议）

**数据集成**: 读取所有健康数据源
**使用场景**: "过去 6 个月我的健康有什么变化？"

---

#### 2. 用药顾问 (`medication-advisor`)
**用途**: 智能用药管理，提供全面的安全检查

**核心功能**:
- 全面相互作用检查（药物-药物、药物-过敏、药物-食物、药物-补充剂）
- 用药安全分析（重复用药、剂量检查、禁忌症、副作用）
- 依从性优化（用药时间安排、提醒策略、漏服指导）
- 用药教育（用途、机制、时间线、储存）

**数据集成**: 药物记录、过敏信息、个人档案、药物相互作用数据库
**使用场景**: "这种新药和我现在正在吃的药有冲突吗？"

---

#### 3. 症状模式分析器 (`symptom-pattern-analyzer`)
**用途**: 分析症状模式并识别诱因

**核心功能**:
- 症状模式检测（频率、时间模式、严重程度趋势、聚集性）
- 诱因识别（食物、药物、环境、生活方式、激素）
- 根本原因分析（鉴别症状、合并症检测、红旗警示）
- 预测性洞察（症状预测、早期预警、预防策略）

**数据集成**: 症状记录、药物、饮食、情绪、周期、睡眠
**使用场景**: "为什么我总是头疼？"

---

#### 4. 就诊准备助手 (`visit-prep`)
**用途**: 为医疗服务提供者准备全面的就诊摘要

**核心功能**:
- 全面数据聚合（时间线、药物、过敏、症状、生命体征、化验）
- 就诊类型定制（初级保健、专科、急诊）
- 问题准备（症状、药物、检查、预防保健）
- 多种输出格式（医生摘要、患者清单、可打印 PDF）

**数据集成**: 所有健康数据源
**使用场景**: "我下周要看医生，能帮我准备一下吗？"

---

### 🎯 综合洞察技能（2个）

#### 5. 健康洞察 (`health-insights`)
**用途**: 生成定期综合健康洞察和建议

**核心功能**:
- 综合健康评估（健康评分、维度分析、风险评估、健康年龄）
- 模式识别（积极/消极/新兴/周期性模式）
- 可操作建议（优先行动、快速见效、长期目标）
- 进度追踪（目标进度、里程碑、平台期、倒退）

**数据集成**: 所有健康数据源 + 其他技能的输出
**使用场景**: "我这个月的整体健康状况如何？"

---

#### 6. 健康教练 (`wellness-coach`)
**用途**: 个性化健康指导和行为教练

**核心功能**:
- 个性化建议（饮食、运动、睡眠、压力、生活方式）
- 目标设定与追踪（SMART 目标、分解、进度、调整）
- 习惯养成（习惯设计、触发点、叠加、追踪）
- 激励与问责（进度认可、鼓励、检查、障碍规划）

**数据集成**: 所有健康数据源 + 健康洞察
**使用场景**: "我该如何改善睡眠质量？"

---

### 💡 专科生活技能（4个）

#### 7. 营养顾问 (`nutrition-advisor`)
**用途**: 提供个性化营养分析、膳食规划和饮食建议

**核心功能**:
- 营养分析（宏量营养素、微量营养素、热量）
- 个性化膳食规划（基于目标、过敏、偏好）
- 食物-症状关联（诱因识别、不耐受检测）
- 营养教育（营养知识、阅读标签、健康选择）

**数据集成**: 饮食记录、个人档案、症状、过敏、药物
**使用场景**: "我应该吃什么更健康？"

---

#### 8. 健身教练 (`fitness-coach`)
**用途**: 提供个性化健身指导、运动计划和训练建议

**核心功能**:
- 健身评估（活动水平、体能、限制因素）
- 个性化运动计划（基于目标、水平渐进）
- 训练指导（动作说明、强度管理、安全要点）
- 进度追踪（表现、身体成分、功能改善）

**数据集成**: 运动记录、个人档案、症状、健康目标
**使用场景**: "如何开始锻炼？"

---

#### 9. 睡眠专家 (`sleep-specialist`)
**用途**: 提供个性化睡眠分析、睡眠质量改善建议

**核心功能**:
- 睡眠模式分析（时长、质量、规律性、年龄基准）
- 睡眠影响因素（药物、饮食、运动、压力、环境、屏幕）
- 睡眠问题诊断（失眠、呼吸暂停、昼夜节律）
- 睡眠改善方案（睡眠卫生、CBT-I 技术、放松技巧）

**数据集成**: 睡眠记录、症状、情绪、药物、饮食、运动
**使用场景**: "为什么我总是睡不好？"

---

#### 10. 心理健康伴侣 (`mental-health-companion`)
**用途**: 提供心理健康监测、情绪追踪和心理健康支持

**核心功能**:
- 情绪模式分析（趋势、触发因素、周期模式）
- 压力评估（压力水平、压力源、应对资源）
- 心理健康自我管理（情绪调节、压力管理、正念）
- 危机识别与转介（危险信号、资源推荐）

**数据集成**: 情绪记录、症状、睡眠、药物、生活事件
**使用场景**: "如何改善我的心理健康？"
**重要限制**: ⚠️ 不是心理治疗替代品，危机时需寻求专业帮助

---

### 🏥 专科医疗技能（4个）

#### 11. 慢性病管理教练 (`chronic-disease-coach`)
**用途**: 为慢性病患者提供长期疾病管理、监测和指导

**核心功能**:
- 疾病状态监控（血压、血糖、血脂等）
- 用药管理和依从性
- 生活方式干预（饮食、运动、戒烟）
- 并发症预防和早期识别
- 患者教育和自我管理技能

**数据集成**: 药物、症状、化验、饮食、运动
**使用场景**: "我的高血压/糖尿病控制得怎么样？"

---

#### 12. 女性健康专员 (`women-health-specialist`)
**用途**: 整合女性全生命周期健康管理

**核心功能**:
- 生命周期整合分析（周期、孕期、更年期）
- 激素相关症状管理
- 女性特定风险评估（骨骼、心血管、乳腺癌）
- 预防保健筛查（基于年龄和阶段）
- 跨阶段健康趋势追踪

**数据集成**: 周期、孕期、更年期、症状、情绪
**使用场景**: "分析我的女性健康整体状况"

---

#### 13. 康复指导师 (`rehabilitation-guide`)
**用途**: 提供手术或疾病后的康复指导和管理

**核心功能**:
- 术后康复计划（分期康复、里程碑）
- 疼痛管理策略（药物和非药物）
- 功能恢复指导（ROM、力量、功能训练）
- 并发症监测（感染、DVT 等）
- 回归活动指导（工作、运动、驾驶）

**数据集成**: 手术记录、症状、药物、运动
**使用场景**: "手术后如何康复？"

---

#### 14. 预防保健协调员 (`preventive-care-coordinator`)
**用途**: 整合预防保健措施，包括疫苗、筛查、体检

**核心功能**:
- 疫苗接种管理和时间表
- 健康筛查计划（年龄appropriate）
- 风险评估（可改变和不可改变）
- 健康体检规划和准备
- 预防保健日历

**数据集成**: 疫苗接种、化验、家族史、生活方式
**使用场景**: "我该做哪些体检和筛查？"

---

## 技能集成架构

```
                    ┌─────────────────────┐
                    │   所有健康数据      │
                    │  (档案、药物、       │
                    │   症状、饮食、       │
                    │   化验等)          │
                    └──────────┬──────────┘
                               │
       ┌───────────────────────┼───────────────────────┐
       │                       │                       │
       ▼                       ▼                       ▼
┌──────────────┐      ┌──────────────┐      ┌──────────────┐
│ 核心分析技能  │      │ 综合洞察技能  │      │ 专科生活技能  │
│ ├健康趋势    │      │ ├健康洞察    │      │ ├营养顾问    │
│ ├用药顾问    │      │ └健康教练    │      │ ├健身教练    │
│ ├症状模式    │      │              │      │ ├睡眠专家    │
│ └就诊准备    │      │              │      │ └心理健康    │
└──────┬───────┘      └──────┬───────┘      └──────┬───────┘
       │                     │                      │
       └─────────────────────┼──────────────────────┘
                             │
                             ▼
                    ┌──────────────────┐
                    │  急诊卡片        │
                    │  (已存在)        │
                    └──────────────────┘
```

## 技能关系

### 数据流
1. **核心分析技能**分析原始健康数据，提供专项分析
2. **综合洞察技能**聚合核心分析技能的结果，提供整体健康洞察
3. **专科生活技能**提供特定领域的深入指导
4. **专科医疗技能**提供疾病和康复的专业管理
5. 所有技能可独立使用，也可协同工作

### 技能互补
- **用药顾问** ↔ **症状模式分析器**: 相互检查副作用
- **营养顾问** ↔ **症状模式分析器**: 食物-症状关联
- **睡眠专家** ↔ **心理健康伴侣**: 睡眠与情绪相互作用
- **健身教练** ↔ **康复指导师**: 康复期运动指导
- **慢性病管理教练** ↔ **所有技能**: 慢性病影响整体健康
- **女性健康专员** ↔ **心理健康伴侣**: 激素与情绪
- **预防保健协调员** ↔ **所有技能**: 预防优先于治疗
- **所有技能** → **就诊准备助手**: 聚合所有输出用于医疗就诊

## 实施优先级

### 第一阶段：基础安全（优先实施）
1. **用药顾问** ⭐⭐⭐ - 高患者安全价值，药物相互作用至关重要
2. **症状模式分析器** ⭐⭐⭐ - 解决用户理解症状的常见需求
3. **就诊准备助手** ⭐⭐ - 医疗保健互动的实用价值

### 第二阶段：洞察分析
4. **健康趋势分析器** ⭐⭐ - 提供有价值的纵向分析
5. **健康洞察** ⭐⭐ - 综合所有数据提供可操作洞察
6. **睡眠专家** ⭐⭐ - 睡眠是健康基础，高影响

### 第三阶段：专科生活技能
7. **睡眠专家** ⭐⭐ - 睡眠是健康基础，高影响
8. **营养顾问** ⭐ - 饮食是健康重要组成部分
9. **心理健康伴侣** ⭐ - 心理健康与生理健康同样重要
10. **健身教练** ⭐ - 运动对整体健康至关重要

### 第四阶段：专科医疗技能
11. **慢性病管理教练** ⭐⭐ - 慢性病管理需求大
12. **女性健康专员** ⭐ - 整合女性全生命周期健康
13. **康复指导师** ⭐ - 手术后康复需求
14. **预防保健协调员** ⭐⭐ - 预防优先，成本效益高
15. **健康教练** ⭐ - 整合所有方面的行为改变指导

## 技术要求

### 共享组件
1. **数据访问层**: 统一的 API 用于读取所有健康数据
2. **分析引擎**: 通用的统计和相关性函数
3. **报告生成器**: 文本、JSON、HTML 输出格式化器
4. **安全验证器**: 医疗免责声明、红旗警示检测

### 数据依赖
- **基础数据**: 档案、药物、过敏、症状
- **专项数据**: 饮食、睡眠、运动、情绪等
- **外部数据**: 药物相互作用数据库（用药顾问需要）

### 隐私与安全
- ✅ 所有处理本地化（无外部 API 调用）
- ✅ 不进行医疗诊断（仅分析和模式识别）
- ✅ 始终建议咨询医疗专业人员
- ✅ 所有输出包含明确免责声明
- ✅ 红旗警示检测并转诊急诊
- ✅ 危机检测并提供紧急资源（心理健康）

## 独特价值主张

### 与现有系统的关系
**命令（现有）**:
- `/medication`: 记录药物数据
- `/symptom`: 记录症状数据
- `/diet`: 记录饮食数据
- `/query`: 检索特定数据点
- **目的**: 数据录入和检索

**技能（新增）**:
- 分析跨数据模式
- 生成洞察和建议
- 提供可操作指导
- **目的**: 数据分析和智能

### 与急诊卡片技能的互补
**急诊卡片**（已存在）:
- 重点：急诊情况，仅关键信息
- 用例：医疗急救、急救人员
- 输出：钱包卡片、二维码

**新技能**（提议）:
- 重点：综合健康管理
- 用例：日常健康追踪、医生就诊、健康改善
- 输出：详细报告、计划、洞察

## 开发复杂度评估

### 低复杂度（较易实施）
- **就诊准备助手**: 主要是数据聚合和格式化
- **营养顾问**: 营养计算相对标准化

### 中等复杂度
- **健康趋势分析器**: 统计分析，需要算法
- **睡眠专家**: 睡眠科学较为成熟
- **健身教练**: 需要训练计划生成逻辑
- **健康洞察**: 聚合多个技能的输出

### 高复杂度（最具挑战性）
- **用药顾问**: 需要药物相互作用数据库、复杂安全逻辑
- **症状模式分析器**: 复杂的相关性分析
- **心理健康伴侣**: 需要危机检测、安全边界、专业转介
- **健康教练**: 行为科学、激励策略、高度个性化

## 成功指标

### 用户采用
- 技能使用频率
- 用户满意度评分
- 健康管理任务节省的时间

### 健康结果
- 改善药物依从性
- 更好的症状管理
- 提高健康素养
- 更高效的医生就诊
- 生活质量改善

### 系统质量
- 模式检测准确性
- 建议相关性和可操作性
- 发现的药物相互作用安全性
- 用户对系统的信任
- 边界和安全性（特别是心理健康）

## 文件清单

所有技能设计文档位于 `todo/skills/` 目录：

**核心分析技能（4个）**:
1. **[01-健康趋势分析器.md](01-健康趋势分析器.md)** - 趋势分析技能
2. **[02-用药顾问.md](02-用药顾问.md)** - 用药安全技能
3. **[03-症状模式分析器.md](03-症状模式分析器.md)** - 症状分析技能
4. **[04-就诊准备助手.md](04-就诊准备助手.md)** - 医疗就诊准备技能

**综合洞察技能（2个）**:
5. **[05-健康洞察.md](05-健康洞察.md)** - 定期健康洞察技能
6. **[06-健康教练.md](06-健康教练.md)** - 健康行为教练技能

**专科生活技能（4个）**:
7. **[07-营养顾问.md](07-营养顾问.md)** - 营养指导技能
8. **[08-健身教练.md](08-健身教练.md)** - 运动健身技能
9. **[09-睡眠专家.md](09-睡眠专家.md)** - 睡眠改善技能
10. **[10-心理健康伴侣.md](10-心理健康伴侣.md)** - 心理健康支持技能

**专科医疗技能（4个）**:
11. **[11-慢性病管理教练.md](11-慢性病管理教练.md)** - 慢性病管理技能
12. **[12-女性健康专员.md](12-女性健康专员.md)** - 女性健康技能
13. **[13-康复指导师.md](13-康复指导师.md)** - 康复指导技能
14. **[14-预防保健协调员.md](14-预防保健协调员.md)** - 预防保健技能

每个设计文档包含：
- 详细的功能描述
- 技术实现方法
- 输出格式示例
- 用户交互示例
- 安全与免责声明
- 测试清单
- 相关技能关系

## 未来增强

### 机器学习集成
- 更精确的模式识别
- 个性化推荐算法
- 预测性健康分析

### 可穿戴设备集成
- Fitbit、Apple Watch、小米手环
- 实时健康数据流
- 自动数据同步

### 基因组数据
- 个性化营养建议
- 药物基因组学
- 疾病风险评估

### 社交功能
- 家庭健康账户
- 健康挑战和竞赛
- 社区支持

### 远程医疗
- 与医生平台集成
- 数据共享功能
- 视频就诊支持

## 结论

这 **10 个技能**在现有 my-his 数据基础之上创建了全面的健康智能生态系统。它们将系统从**健康数据存储**工具转变为**智能健康管理助手**。

这些技能能够：
- ✅ 与所有现有健康模块深度集成
- ✅ 解决高价值用户需求
- ✅ 维护隐私和安全优先事项
- ✅ 相互构建以实现最大价值
- ✅ 提供可操作的洞察和指导
- ✅ 支持现有医疗保健旅程
- ✅ 覆盖生理、心理、生活方式全方位

### 核心优势

1. **全面性**: 从药物到运动，从营养到心理健康
2. **个性化**: 基于个人数据的定制化建议
3. **可操作性**: 提供具体可行的改进方案
4. **安全性**: 医疗安全边界，危机检测转介
5. **隐私优先**: 所有处理本地化
6. **可持续性**: 建立长期健康习惯

### 用户价值

这些技能创建了一个个性化健康智能系统，帮助用户：
- 理解他们的健康模式
- 做出明智的健康决定
- 进行更高效的医疗保健互动
- 实现他们的健康目标
- 改善整体生活质量
- 预防和管理健康问题

---

**文档版本**: 3.0
**最后更新**: 2025-12-31
**作者**: Claude Code 技能设计代理
**技能总数**: 14 个
